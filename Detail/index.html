<!DOCTYPE html>
<html lang="en">

<head>
  <!-- â‘  Meta & Title & Bootstrap å¼•å…¥ -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bijander 35â€ Velvet Task Chair - Product Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- â‘  CSS æ ·å¼ -->
  <style> 

/* Reset & Base */
body {
  background: #f8f9fa; /* æ›´äº®çš„æµ…ç°ï¼Œæ¥è¿‘ Wayfair èƒŒæ™¯ */
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  color: #222;
  overflow-x: hidden;
}

/* Breadcrumb */
.breadcrumb a {
  color: #6c757d;
  text-decoration: none;
  transition: color 0.3s ease;
  font-weight: 500;
  font-size: 0.9rem;
}
.breadcrumb a:hover {
  color: #3f51b5; /* Wayfair è“ç´«è‰² */
  text-decoration: underline;
}

/* äº§å“ç”»å»Š */
.product-gallery {
  position: relative;
}
.main-img {
  width: 100%;
  border-radius: 12px;
  object-fit: cover;
  max-height: 500px;
  box-shadow: 0 6px 18px rgba(63, 81, 181, 0.15);
  cursor: zoom-in;
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}
.main-img:hover {
  transform: scale(1.04);
}
.thumbs {
  margin-top: 16px;
  display: flex;
  gap: 14px;
  justify-content: flex-start;
}
.thumbs img {
  width: 70px;
  height: 70px;
  object-fit: cover;
  border-radius: 8px;
  cursor: pointer;
  border: 2.5px solid transparent;
  box-shadow: 0 3px 8px rgba(63, 81, 181, 0.12);
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}
.thumbs img.active {
  border-color: #3f51b5;
  box-shadow: 0 4px 12px rgba(63, 81, 181, 0.3);
}

/* äº§å“ä¿¡æ¯ */
.product-title {
  font-size: 2.4rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #2c2c2c;
  line-height: 1.1;
}
.product-sub {
  color: #666;
  margin-bottom: 1rem;
  font-size: 1.1rem;
  letter-spacing: 0.02em;
}

/* è¯„åˆ† */
.rating {
  color: #fbc02d; /* é‡‘é»„è‰²æ˜Ÿæ˜Ÿ */
  font-size: 1.3rem;
  user-select: none;
}
.rating ~ span {
  margin-left: 10px;
  color: #999;
  font-size: 1rem;
  user-select: none;
}

/* ä»·æ ¼ */
.price {
  font-size: 2.3rem;
  font-weight: 800;
  color: #673ab7; /* æ·±ç´«è‰² */
  margin-top: 16px;
  user-select: none;
  letter-spacing: 0.02em;
}

/* å˜ä½“æ ‡ç­¾ */
.variant-label {
  font-weight: 600;
  margin-top: 28px;
  display: block;
  font-size: 1.15rem;
  color: #444;
  letter-spacing: 0.015em;
}

/* æŒ‰é’® */
.btn-primary {
  background-color: #673ab7;
  border: none;
  font-weight: 700;
  font-size: 1.1rem;
  padding: 14px 0;
  border-radius: 8px;
  box-shadow: 0 6px 15px rgba(103, 58, 183, 0.35);
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}
.btn-primary:hover {
  background-color: #512da8;
  box-shadow: 0 8px 22px rgba(81, 45, 168, 0.45);
}

.btn-outline-secondary {
  font-weight: 600;
  color: #673ab7;
  border: 2px solid #673ab7;
  padding: 12px 0;
  font-size: 1.05rem;
  border-radius: 8px;
  background: transparent;
  transition: background-color 0.3s ease, color 0.3s ease;
  cursor: pointer;
}
.btn-outline-secondary:hover {
  background-color: #673ab7;
  color: #fff;
}

/* è¯¦æƒ…åŒºåŸŸ */
.details-section {
  background: #fff;
  padding: 40px 32px;
  border-radius: 12px;
  margin-top: 48px;
  box-shadow: 0 6px 24px rgba(103, 58, 183, 0.08);
  color: #444;
}
.details-section h4 {
  font-weight: 700;
  margin-bottom: 1.2rem;
  font-size: 1.5rem;
  border-bottom: 3px solid #e0e0e0;
  padding-bottom: 10px;
  color: #2c2c2c;
}
.specs dt {
  font-weight: 700;
  margin-top: 14px;
  color: #555;
  font-size: 1.05rem;
}
.specs dd {
  margin-left: 0;
  color: #666;
  font-size: 1rem;
  margin-bottom: 10px;
}

/* è¯„ä»· */
.reviews .review {
  border-bottom: 1px solid #eee;
  padding: 20px 0;
  color: #444;
  font-size: 1rem;
  line-height: 1.4;
}
.reviews .review strong {
  color: #3f51b5;
  font-weight: 700;
  font-size: 1.1rem;
}
.reviews .review span.text-muted {
  font-size: 0.95rem;
  margin-left: 8px;
  color: #888;
}
.reviews .review p {
  margin: 0.5rem 0;
}
.reviews small {
  display: block;
  font-size: 0.85rem;
  color: #666;
}
.review .rating {
  font-size: 1.1rem;
}
.review img.rounded-circle {
  border: 1px solid #ddd;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
}
.reviews .text-muted {
  margin-left: 8px;
  font-size: 0.9rem;
  color: #777 !important;
}

/* è¯„åˆ†æ±‡æ€» */
.rating-summary .stars {
  font-size: 1.5rem;
  letter-spacing: 0.03rem;
  line-height: 1;
  display: inline-block;
  color: #ffa41c;
  background: linear-gradient(90deg, #ffb94e, #ff9900);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.08);
  font-weight: 600;
}
.rating-summary .text-muted {
  font-size: 0.95rem;
  color: #555 !important;
  margin-left: 0.35rem;
  vertical-align: middle;
  font-family: "Amazon Ember", Arial, sans-serif;
  font-weight: 500;
}
.text-gold {
  color: #ffa41c;
  font-weight: 600;
  text-shadow: 0 0 2px rgba(255, 164, 28, 0.8);
}

/* ç›¸å…³äº§å“ */
.related .card {
  border: none;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: box-shadow 0.35s ease, transform 0.35s ease;
  background: #fff;
  box-shadow: 0 3px 10px rgba(63, 81, 181, 0.1);
}
.related .card:hover {
  box-shadow: 0 12px 34px rgba(63, 81, 181, 0.25);
  transform: translateY(-6px);
}
.related .card img {
  object-fit: cover;
  height: 200px;
  width: 100%;
  transition: transform 0.35s ease;
  border-bottom: 1px solid #e0e0e0;
}
.related .card:hover img {
  transform: scale(1.1);
}
.related .card-body {
  padding: 18px 20px;
}
.related .card-body h6 {
  font-weight: 700;
  font-size: 1.1rem;
  color: #2c2c2c;
  margin-bottom: 6px;
}
.related .card-body p {
  color: #666;
  font-size: 0.95rem;
  margin: 0;
}

/* æ¶ˆæ¯æç¤º */
#message {
  margin-top: 16px;
  min-height: 26px;
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 0.015em;
}
#message.info {
  color: #3f51b5;
}
#message.success {
  color: #388e3c;
}
#message.error {
  color: #d32f2f;
}

/* è‡ªå®šä¹‰æµ®åŠ¨æ¶ˆæ¯å¼¹çª— Toast */
.toast-message {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #333;
  color: #fff;
  padding: 12px 16px;
  border-radius: 6px;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 9999;
  font-size: 14px;
  pointer-events: none;
}
.toast-message.show {
  opacity: 1;
  transform: translateY(0);
}

/* è´­ç‰©è½¦æŠ½å±‰ */
#cartDrawer {
  position: fixed;
  top: 0;
  right: -360px;
  width: 360px;
  height: 100vh;
  background: #fff;
  box-shadow: -4px 0 12px rgba(0, 0, 0, 0.1);
  transition: right 0.35s ease-in-out;
  z-index: 1300;
  display: flex;
  flex-direction: column;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  border-radius: 12px 0 0 12px;
  overflow-y: auto;
}
#cartDrawer.open {
  right: 0;
}
.cart-drawer-header {
  padding: 16px 20px;
  border-bottom: 1px solid #eee;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 700;
  font-size: 1.4rem;
  color: #222;
  background-color: #f3f3f9;
  user-select: none;
}
.cart-drawer-header span {
  display: flex;
  align-items: center;
  gap: 10px;
}


.close-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: #ececec;
  border: none;
  font-size: 1.5rem;
  color: #555;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s ease, color 0.3s ease;
  user-select: none;
}

.close-btn:hover {
  background-color: #673ab7;
  color: #fff;
}

/* è´­ç‰©è½¦æŠ½å±‰ä¸»ä½“ */
.cart-drawer-body {
  flex-grow: 1;
  padding: 24px 28px;
  overflow-y: auto;
  font-size: 0.95rem;
  color: #444;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* è´­ç‰©è½¦æŠ½å±‰åº•éƒ¨ */
.cart-drawer-footer {
  padding: 20px 28px;
  border-top: 1px solid #e5e5e5;
  background-color: #fafafa;
  display: flex;
  justify-content: center;
}

/* ç»“è´¦æŒ‰é’® */
#drawerCheckout {
  width: 100%;
  max-width: 320px;
  height: 48px;
  background: linear-gradient(135deg, #8E57F4, #6B32C9);
  border: none;
  border-radius: 50px;
  color: #fff;
  font-size: 1.2rem;
  font-weight: 700;
  text-align: center;
  line-height: 48px;
  cursor: pointer;
  user-select: none;
  box-shadow:
    inset 0 -2px 4px rgba(0, 0, 0, 0.2),
    0 4px 12px rgba(107, 50, 201, 0.4);
  transition: background 0.3s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

#drawerCheckout:hover {
  background: linear-gradient(135deg, #A176F7, #7E4EF2);
  transform: translateY(-2px);
  box-shadow:
    inset 0 -2px 4px rgba(0, 0, 0, 0.2),
    0 8px 20px rgba(107, 50, 201, 0.5);
}

#drawerCheckout:active {
  transform: translateY(0);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.2),
    0 2px 8px rgba(107, 50, 201, 0.4);
}

/* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
#cartDrawer::-webkit-scrollbar {
  width: 8px;
}

#cartDrawer::-webkit-scrollbar-track {
  background: #f9f9f9;
  border-radius: 10px;
}

#cartDrawer::-webkit-scrollbar-thumb {
  background: #7A42F4;
  border-radius: 10px;
  transition: background-color 0.3s ease;
}

#cartDrawer::-webkit-scrollbar-thumb:hover {
  background: #5E2DB1;
} 
.sidebar {
  position: relative;
  width: 280px;
  background: #fff;
  border: 1px solid #ddd;
  box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
  padding: 20px;
  font-size: 14px;
  border-radius: 6px;

  margin-left: 5px; 


  margin-top: 20px;
  z-index: 9999;
}


/* ä»·æ ¼åŠ ç²—æ”¾å¤§ */
.sidebar .price {
  font-size: 24px;
  font-weight: bold;
  color: #c00;
  margin-bottom: 12px;
}

/* æŒ‰é’®æ ·å¼ */
.sidebar button {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  font-weight: 600;
  cursor: pointer;
}

.sidebar button.btn-primary {
  background-color: #0071dc;
  color: white;
  border: none;
}

.sidebar button.btn-outline-secondary {
  background: none;
  border: 1px solid #0071dc;
  color: #0071dc;
}

/* è¾“å…¥æ¡†æ ·å¼ */
.sidebar input[type="number"] {
  width: 60px;
  margin-left: 5px;
  vertical-align: middle;
}

/* å„ä¿¡æ¯ä¹‹é—´é—´éš” */
.sidebar > div,
.sidebar label {
  margin-bottom: 8px;
}



.product-layout {
  display: flex;
  gap: 32px;
  align-items: flex-start;
}

/* å·¦è¾¹ï¼šæ›´å®½ */
.product-gallery {
  flex: 1.4; 
  max-width: none;
}

/* ä¸­é—´ï¼šç•¥å° */
.product-info {
  flex: 1.2; 
  max-width: none;
}

/* å³è¾¹ sidebarï¼šå›ºå®šå®½åº¦ */
.sidebar {
  flex: 0 0 260px;
  max-width: 260px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}


  </style> 

  </head> 

  <body> 
<div class="container py-4">
  <!-- é¢åŒ…å±‘å¯¼èˆªçœç•¥ -->

  <!-- ä¸‰æ å¸ƒå±€ -->
  <div class="product-layout d-flex gap-4">
    <!-- å·¦ä¾§ï¼šäº§å“å›¾ -->
    <div class="product-gallery">
      <img src="images/jumway-main.jpg" alt="Jumway Not a Day Over Fabulous Mug" class="main-img" />
      <div class="thumbs mt-2 d-flex gap-2">
        <img src="jumway-thumb1.jpg" class="active" alt="Thumbnail 1" />
        <img src="jumway-thumb2.jpg" alt="Thumbnail 2" />
        <img src="jumway-thumb3.jpg" alt="Thumbnail 3" />
        <img src="jumway-thumb4.jpg" alt="Thumbnail 4" />
      </div>
    </div>

    <!-- ä¸­é—´ï¼šäº§å“ä¿¡æ¯ -->
    <div class="product-info">
      <h1 class="product-title">Jumway Not a Day Over Fabulous Mug</h1>
      <p class="product-sub">Funny marble ceramic mug â€” a fabulously witty gift for milestone birthdays</p>

      <div id="ratingSummary" class="rating-summary d-flex align-items-center gap-2 mt-2">
        <span class="text-warning small">â˜…â˜…â˜…â˜…â˜†</span>
        <a href="#reviews" class="text-decoration-none small">4.7 out of 5 stars (506 ratings)</a>
        <span class="text-muted small"></span>
      </div>

      <ul class="list-unstyled mt-3">
        <li>âœ” Novelty marble ceramic mug with â€œNot a Day Over Fabulousâ€ print</li>
        <li>âœ” Great for milestone birthdays like 21st, 30th, 40th, up to 100th</li>
        <li>âœ” Comes in a gift box with lid, spoon, coaster, coffee socks, greeting card</li>
        <li>âœ” Dishwasher safe; not microwave safe</li>
      </ul>

      <div class="price mt-2 text-muted"><del>$29.99</del> <span class="text-danger">$19.99</span></div>

      <div class="stock-shipping mt-3">
        <div class="stock-status text-success mb-1">In Stock.</div>
        <div class="shipping-info small text-muted">Free delivery by Monday, Aug 10</div>
      </div>

      <div class="mt-4">
        <label class="variant-label" for="variantSelect">Color</label>
        <select class="form-select" id="variantSelect">
          <option>Classic Gray</option>
          <option>Navy Blue</option>
        </select>
      </div>

      <div class="mt-3">
        <label class="variant-label" for="quantityInput">Quantity</label>
        <input type="number" id="quantityInput" class="form-control" min="1" value="1" />
      </div>

      <div class="mt-4 d-flex gap-3">
        <button id="addToCartBtn" class="btn btn-primary flex-grow-1">Add to Cart</button>
        <button id="wishlistBtn" class="btn btn-outline-secondary">Wishlist</button>
      </div>
    </div>

    <!-- å³ä¾§ï¼šè´­ä¹°å’Œé…é€ä¿¡æ¯ -->
    <aside class="sidebar">
      <div>FREE International Returns</div>
      <div>No Import Charges &amp; $7.86 Shipping to Canada Details</div>
      <div>Delivery Sunday, August 10. Order within 4 hrs 3 mins</div>
      <div>Deliver to Canada</div>
      <div class="stock-status text-success">In Stock</div>
      <label for="quantityInputSidebar">Quantity:</label>
      <input type="number" id="quantityInputSidebar" value="1" min="1" class="form-control mb-2" />
      <button class="btn btn-primary mb-2 w-100">Add to Cart</button>
      <button class="btn btn-outline-secondary mb-3 w-100">Buy Now</button>
      <div>Ships from Amazon</div>
      <div>Sold by Royal Joy</div>
      <div>Payment: Secure transaction</div>
      <div>Add a gift receipt for easy returns</div>
      <div>Add to List</div>
    </aside>
  </div>
</div>


      </div>

      <!-- â‘£ è¯¦æƒ…åŒº -->
      <div class="col-12 mt-5">
        <div class="details-section">
          <h4>Product Details</h4>
          <p>
            This Jumway mug is a fun, marbleâ€‘patterned ceramic giftâ€”perfect for the fabulous women celebrating milestone birthdays. The phrase â€œNot a Day Over Fabulousâ€ is a delightful reminder that age is just a number! :contentReference[oaicite:1]{index=1}
          </p>

          <dl class="specs row">
            <dt class="col-sm-3">Material</dt>
            <dd class="col-sm-9">Ceramic</dd>

            <dt class="col-sm-3">Capacity</dt>
            <dd class="col-sm-9">14 oz (approximately 397 g)</dd>

            <dt class="col-sm-3">Microwave Safe?</dt>
            <dd class="col-sm-9">No, not microwave safe; dishwasher safe however</dd>

            <dt class="col-sm-3">Package Includes</dt>
            <dd class="col-sm-9">
              1Ã— mug, 1Ã— lid, 1Ã— spoon, 1Ã— coaster, 1 pair of coffee socks, 1Ã— greeting card, gift box :contentReference[oaicite:2]{index=2}
            </dd>
          </dl>
        </div>
      </div>

      <!-- â‘¤ è¯„è®ºåˆ—è¡¨ -->
      <div class="row g-4 mt-3" id="reviews">
        <div class="col-12">
          <div class="d-flex align-items-start gap-3 border-bottom pb-4">
            <img src="https://i.pravatar.cc/48?u=101" class="rounded-circle" width="48" height="48" alt="Reviewer" />
            <div>
              <div class="d-flex align-items-center mb-1">
                <strong class="me-2">Tymquana Frierson</strong>
                <div class="text-warning small">â˜…â˜…â˜…â˜…â˜…</div>
              </div>
              <p class="mb-1">â€œThis made the perfect gift â€¦ super affordable and so cute. Well crafted.â€</p>
              <div class="text-muted small">Reviewed February 1, 2025</div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <div class="d-flex align-items-start gap-3 border-bottom pb-4">
            <img src="https://i.pravatar.cc/48?u=102" class="rounded-circle" width="48" height="48" alt="Reviewer" />
            <div>
              <div class="d-flex align-items-center mb-1">
                <strong class="me-2">FBoyer</strong>
                <div class="text-warning small">â˜…â˜…â˜…â˜…â˜…</div>
              </div>
              <p class="mb-1">â€œSo cute and unique!!â€</p>
              <div class="text-muted small">Reviewed January 27, 2025</div>
            </div>
          </div>
        </div>
      </div>

      <!-- â‘¥ ç›¸å…³äº§å“ -->
      <div class="col-12 mt-5 related">
        <h4>Related Products</h4>
        <div class="row g-3">
          <div class="col-md-3 col-6">
            <div class="card" onclick="location.href='#'">
              <img src="related1.jpg" alt="Related Product 1" />
              <div class="card-body">
                <h6 class="mb-1">Lanna Adjustable Desk</h6>
                <p class="text-muted">$199.00</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="card" onclick="location.href='#'">
              <img src="related2.jpg" alt="Related Product 2" />
              <div class="card-body">
                <h6 class="mb-1">Ergo Lumbar Support</h6>
                <p class="text-muted">$89.00</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="card" onclick="location.href='#'">
              <img src="related3.jpg" alt="Related Product 3" />
              <div class="card-body">
                <h6 class="mb-1">Desk Organizer Set</h6>
                <p class="text-muted">$49.00</p>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="card" onclick="location.href='#'">
              <img src="related4.jpg" alt="Related Product 4" />
              <div class="card-body">
                <h6 class="mb-1">Adjustable LED Lamp</h6>
                <p class="text-muted">$59.00</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div> 



<!-- è´­ç‰©è½¦æŠ½å±‰åŒºåŸŸ -->
<div id="cartDrawer" class="cart-drawer" aria-label="Shopping Cart" role="region" aria-hidden="true">
  <!-- æŠ½å±‰é¡¶éƒ¨ -->
  <div class="cart-drawer-header">
    <span>ğŸ›’ Your Cart</span>
    <button class="close-btn" id="closeDrawer" aria-label="Close Cart Drawer">Ã—</button>
  </div>

  <!-- æŠ½å±‰å†…å®¹ä¸»ä½“ -->
  <div class="cart-drawer-body">
    <p class="checkout-hint">ğŸ”¥ 197 people are checking out now</p>

    <!-- å•†å“æ¸²æŸ“åŒºåŸŸï¼ˆç”± JS æ’å…¥ï¼‰ -->
    <div id="drawerCartItems"></div>

    <!-- åŠ¨æ€ä»·æ ¼æ±‡æ€» -->
    <div class="cart-summary" id="drawerCartSummary"></div>

    <p class="small text-secondary mt-3" style="color:#777;">
      Taxes and discount codes calculated at checkout.
    </p>
  </div>

  <!-- æŠ½å±‰åº•éƒ¨ -->
  <div class="cart-drawer-footer">
    <a href="#" target="_blank" id="drawerCheckout" class="btn btn-checkout" role="button" aria-label="Proceed to Checkout">Proceed to Checkout â†’</a>
  </div>
</div>

  </body>  


<!-- ====================== -->
<!-- â‘¢ JavaScript è„šæœ¬åŒºåŸŸ -->
<!-- ====================== -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // â‘  ç¼“å­˜é¡µé¢ä¸­å¸¸ç”¨çš„ DOM å…ƒç´ ï¼Œé¿å…é‡å¤æŸ¥æ‰¾
  const addToCartBtn = document.getElementById('addToCartBtn');          // â€œæ·»åŠ åˆ°è´­ç‰©è½¦â€æŒ‰é’®
  const variantSelect = document.getElementById('variantSelect');        // å•†å“è§„æ ¼ä¸‹æ‹‰æ¡†
  const quantityInput = document.getElementById('quantityInput');        // æ•°é‡è¾“å…¥æ¡†
  const messageEl = document.getElementById('message');                  // é¡µé¢é¡¶éƒ¨æç¤ºä¿¡æ¯æ˜¾ç¤ºåŒºåŸŸ

  const drawer = document.getElementById('cartDrawer');                  // è´­ç‰©è½¦æŠ½å±‰å®¹å™¨
  const drawerItems = document.getElementById('drawerCartItems');        // å•†å“æ¸²æŸ“åŒºåŸŸï¼ˆJS åŠ¨æ€æ’å…¥ï¼‰
  const drawerSummary = document.getElementById('drawerCartSummary');    // ä»·æ ¼æ±‡æ€»åŒºåŸŸï¼ˆJS åŠ¨æ€æ’å…¥ï¼‰
  const drawerCheckout = document.getElementById('drawerCheckout');      // â€œå‰å¾€ç»“è´¦â€æŒ‰é’®
  const closeDrawer = document.getElementById('closeDrawer');            // å…³é—­æŠ½å±‰æŒ‰é’®

  // â‘¡ æ¶ˆæ¯æç¤ºæ¸…é™¤è®¡æ—¶å™¨å¥æŸ„
  let clearMsgTimeout = null;

  // â‘¢ æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼ˆæ”¯æŒ successã€errorã€info ç±»å‹ï¼‰
  function showMessage(text, type = 'success', duration = 4000) {
    const colors = {
      success: '#28a745',   // ç»¿è‰²
      error: '#dc3545',     // çº¢è‰²
      info: '#0d6efd'       // è“è‰²
    };

    if (clearMsgTimeout) {
      clearTimeout(clearMsgTimeout);
      clearMsgTimeout = null;
    }

    messageEl.textContent = text;
    messageEl.style.color = colors[type] || '#000';

    if (type === 'success' || type === 'error') {
      clearMsgTimeout = setTimeout(() => {
        messageEl.textContent = '';
        clearMsgTimeout = null;
      }, duration);
    }
  }

  // â‘£ æ¸²æŸ“è´­ç‰©è½¦å†…å®¹ï¼ŒåŒ…æ‹¬å•†å“åˆ—è¡¨å’Œä»·æ ¼å°è®¡
  function renderCart(cart) {
    // æ¸…ç©ºä¹‹å‰çš„å•†å“å’Œä»·æ ¼å†…å®¹
    drawerItems.innerHTML = '';
    drawerSummary.innerHTML = '';

    // æ¸²æŸ“å•†å“åˆ—è¡¨
    cart.lines?.edges?.forEach(({ node }) => {
      const variantId = node.merchandise?.id;
      const quantity = node.quantity;

      // æ ¹æ® variantId æ‰¾åˆ°å¯¹åº” option æ ‡ç­¾çš„æ–‡å­—ï¼Œä½œä¸ºé¢œè‰²æè¿°
      const optionEl = [...variantSelect.options].find(opt => opt.value === variantId);
      const colorLabel = optionEl ? optionEl.textContent : 'Selected Variant';

      // åˆ›å»ºå¹¶æ’å…¥å•†å“å…ƒç´ 
      const item = document.createElement('div');
      item.className = 'cart-item';
      item.style.marginBottom = '10px';
      item.innerHTML = `
        <div style="font-weight: bold;">Color: ${colorLabel}</div>
        <div style="font-size: 14px; color: #555;">Quantity: ${quantity}</div>
      `;
      drawerItems.appendChild(item);
    });

    // æ¸²æŸ“ä»·æ ¼æ±‡æ€»ï¼ˆå°è®¡ + è¿è´¹ + æ€»è®¡ï¼‰
    if (cart.cost) {
      const subtotal = cart.cost.subtotalAmount?.amount || '0.00';
      const total = cart.cost.totalAmount?.amount || '0.00';
      const currency = cart.cost.subtotalAmount?.currencyCode || '$';

      const summary = document.createElement('div');
      summary.className = 'cart-summary mt-3';
      summary.innerHTML = `
        <div class="summary-row">
          <span>Subtotal</span>
          <span>${currency} ${parseFloat(subtotal).toFixed(2)}</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span>Free</span>
        </div>
        <div class="summary-row total" style="font-weight:bold;">
          <span>Total</span>
          <span>${currency} ${parseFloat(total).toFixed(2)}</span>
        </div>
      `;

      // âœ… æ­£ç¡®æ’å…¥ä»·æ ¼æ±‡æ€»åŒºåŸŸï¼ˆè¿™é‡Œå¿…é¡»æ˜¯ drawerSummaryï¼Œä¸è¦è¯¯æ’å…¥ drawerItemsï¼‰
      drawerSummary.appendChild(summary);
    }

    // è®¾ç½®ç»“è´¦é“¾æ¥åœ°å€
    drawerCheckout.href = cart.checkoutUrl || '#';

    // æ‰“å¼€è´­ç‰©è½¦æŠ½å±‰ï¼Œå¹¶æ›´æ–° aria å±æ€§
    drawer.classList.add('open');
    drawer.setAttribute('aria-hidden', 'false');
  }

  // â‘¤ â€œæ·»åŠ åˆ°è´­ç‰©è½¦â€ æŒ‰é’®ç‚¹å‡»äº‹ä»¶
  addToCartBtn?.addEventListener('click', async () => {
    const merchandiseId = variantSelect.value;
    let quantity = parseInt(quantityInput.value, 10);
    if (isNaN(quantity) || quantity <= 0) quantity = 1;

    showMessage('â³ æ­£åœ¨æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œè¯·ç¨å€™...', 'info');
    addToCartBtn.disabled = true;

    try {
      const response = await fetch('https://my-netlify-pro.netlify.app/.netlify/functions/add-to-cart', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ merchandiseId, quantity })
      });

      const data = await response.json();

      if (!response.ok || !data.cart) {
        showMessage('âŒ æ·»åŠ å¤±è´¥: ' + (data?.error || 'æœªçŸ¥é”™è¯¯'), 'error');
        return;
      }

      renderCart(data.cart); // âœ… æ¸²æŸ“è´­ç‰©è½¦å’Œä»·æ ¼
      showMessage('âœ… å·²æˆåŠŸåŠ å…¥è´­ç‰©è½¦ï¼', 'success', 2500);
    } catch (error) {
      console.error(error);
      showMessage('âŒ ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•', 'error');
    } finally {
      addToCartBtn.disabled = false;
    }
  });

  // â‘¥ å…³é—­è´­ç‰©è½¦æŠ½å±‰äº‹ä»¶ç»‘å®š
  closeDrawer?.addEventListener('click', () => {
    drawer.classList.remove('open');
    drawer.setAttribute('aria-hidden', 'true');
  });
</script>

</html>   